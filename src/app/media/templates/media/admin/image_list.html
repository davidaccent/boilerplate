{% extends "starlette_admin/base.html" %}

{% block extra_css %}
<style>
    .card { border: solid 1px #e6e6e6; border-radius: .2rem; padding: .5rem; margin-bottom: 1.5rem; }
    .card:hover { border: solid 1px #1aa2dc; transition: border-color linear 250ms; }
    .card p { margin-bottom: 0; }
    .card a { position: absolute; top: 0; right: 0; bottom: 0; left: 0; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid mt-header">
    {% include "starlette_admin/partials/breadcrumb.html" %}
    <div class="pull-right">
        <a href="{{ url_for(url_names.delete_renditions) }}" class="button button-red button-clear">Delete Renditions</a>
        <a href="{{ url_for(url_names.create) }}" class="button button-primary">Add</a>
    </div>
    <h1 class="f-lite">{{ collection_name }}</h1>
    {% if search_enabled %}
        {% from "starlette_admin/helpers/_list_helpers.html" import render_search_form %}
        {{ render_search_form(search) }}
    {% endif %}
    <div class="row">
        {% for object in list_objects -%}
        <div class="col-sm-6 col-md-4 col-lg-3">
            <div class="card">
                {% with rendition = object.get_rendition(['fill-300x168']) %}
                <img class="img-fluid" src="{{ url_for('media', path=rendition.file.path) }}">
                {% endwith %}
                <p class="text-center">{{ object }}</p>
                <a href="{{ url_for(url_names.edit, id=object.id) }}"></a>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="row">
        <div class="col">
        {% if is_paginated %}
            {% from "starlette_admin/helpers/_list_helpers.html" import render_paginator %}
            {{ render_paginator(request, paginator, page_obj) }}
        {% else %}
            {{ list_objects|length }} record{% if list_objects|length != 1 %}s{% endif %}
        {% endif %}
        </div>
    </div>
</div>
{% endblock %}
